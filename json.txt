ShopComp Use Cases JSON State Representations

----------------------------------------------------------------- Andry
/register-shopper  -->  (a uuid is created but not passed to the shopper)
    POST:
        {
            "username" : "shopper-username",
            "password" : "shopper-password"
        }
    200: { "message" : "Account registered successfully" }
    400: { "error" : "Error creating account. Please follow the username/password policy" }
         { "error" : "Error creating account. Username already exists" }
----------------------------------------------------------------- Andry
/login-shopper
    POST
        {
            "username" : "shopper-username",
            "password" : "shopper-password"
        }
    200: { "message" : "Logged in successfully" }
    400: { "error" : "Error logging in. Please follow the username/password policy" }
         { "error" : "Error logging in. Wrong username or password " }
    
----------------------------------------------------------------- Andry
/show-account-dashboard   -->   Might not actually use this as an API
    POST
        {
                  
        }
    200 on success:
        {

        }
    400 on failure: { }
----------------------------------------------------------------- Andry
/add-chain
    POST:
        {
            "chain-name" : "Walmart",
            "chain-URL" : "https://www.walmart.com"
        }
    200 on success:
        {
            "chain-name" : "Walmart",
            "chain-id" : "rgr342",
            "chain-url" : "https://www.walmart.com",
            "chains-list": [
                {
                  "name": "BJ's",
                  "chain-id": "asd394",
                  "url": "https://www.bjs.com",
                  "stores": []
                },
                {
                  "name": "Walmart",
                  "chain-id": "rgr342",
                  "url": "https://www.walmart.com",
                  "stores": []
                }
            ]
        }
    400 on failure: 
        { "error" : "Error. Some field/s are empty" }
        { "error" : "Error. Chain name already exists" }
----------------------------------------------------------------- Andry
/add-store-to-chain
    POST:
        {
            "chain-name" : "Walmart",
            "address" : "210 C St. Milford"
        }
    200 on success:
        {
            "chain-name" : "Walmart",
            "stores" : [
                { "address" : "210 C St. Milford" }
            ]
        }
    400: 
        { "error" : "Error. Store already exists in chain" }
        { "error" : "Error. Some field/s are empty" }
----------------------------------------------------------------- Andry
/review-history
    POST:
        {
            "username" : "shapper-username"
        }
    200 on success:
        {
            "receipts" : [
                {
                    "date" : "2025-10-31",
                    "address" : "123 Main St. Boston",
                    "items" : [
                        {
                            "item-name" : "Whole Milk Bottle",
                            "item-category" : "Milk",
                            "item-price" : "10",
                            "item-quantity" : "1"
                        }
                    ]
                },
                {
                    "date" : "2025-10-31",
                    "address" : "200 East Rd. Chicago",
                    "items" : [
                        {
                            "item-name" : "Classic Lays Chips",
                            "item-category" : "Chips",
                            "item-price" : "3",
                            "item-quantity" : "2"
                        },
                        {
                            "item-name" : "Slim Milk Bottle",
                            "item-category" : "Milk",
                            "item-price" : "12",
                            "item-quantity" : "1"
                        }
                    ]
                }
            ]
        }
    400: 
        { "error" : "Error returning receipts" }
        { "error" : "No receipts exist" }
----------------------------------------------------------------- Andry
/review-activity
    POST:
        {
            "username" : "shopper-username",
            "time-period-option" : "last-week"
        }
    200 on success:
        {
            "receipt-dates" : [
                { "date" : "2025-10-31" },
                { "date" : "2025-10-31" }
            ],
            "receipts-totals" : [
                { "receipt-total" : "10" },
                { "receipt-total" : "18" }
            ],
            "total-spent" : "28"
        }
    400 on failure: 
        { "error" : "Error returning receipts" }
        { "error" : "No receipts exist" }
----------------------------------------------------------------- Harrison
/submit-receipt
    POST:
        {
          "shopper-username": "shopper123",
          "receipt": {
            "date": "UNIX EPOCH TIME",
            "store-id": "rgr342",
            "items": [
              { 
                "name": "Apple", 
                "price": "1.00", 
                "quantity": "2"
              }, 
              { 
                "name": "Banana", 
                "price": "0.50", 
                "quantity": "3"
              },
              { 
                "name": "Chocolate Bar", 
                "price": "2.00", 
                "quantity": "1"
              },
            ]
          }
        }
    200 on success: {
      "message": "Receipt submitted successfully",
      "receipt-id": "ghi789"
    }
    400 on failure: {
      "error": "User not authenticated or not authorized to submit receipt for this user"
    }
    400 on failure: {
      "error": "Invalid receipt data format"
    }
    400 on failure: {
      "error": "Database error while storing receipt"
    }
    400 on failure: {
      "error": "Store ID does not exist"
    }
    400 on failure: {
      "error": "Receipt date is in the future"
    }
    400 on failure: {
      "error": "Receipt contains no items"
    }
    400 on failure: {
      "error": "User does not exist"
    }
----------------------------------------------------------------- Harrison
/analyse-receipt-image
    POST:
        {
          open-api-key: "OPEN API KEY",
          file: "MIME ENCODED STRING"
        }
    200 on success:
        {
          "receipt": {
            "date": "2025-10-31",
            "receipt-id": "arf456",
            "items": [
              { 
                "name": "Apple", 
                "price": "1.00", 
                "quantity": "2"
              }, 
              { 
                "name": "Banana", 
                "price": "0.50", 
                "quantity": "3"
              },
              { 
                "name": "Chocolate Bar", 
                "price": "2.00", 
                "quantity": "1"
              },
            ]
          }
        }
    400 on failure: { 
      "error": "Invalid Open-API key" 
    }
    400 on failure: { 
      "error": "Image file is missing or corrupted" 
    }
    400 on failure: { 
      "error": "OpenAI generated an error" 
    }
----------------------------------------------------------------- Nikita
/list-shopping-lists
    POST:
        {
          "shopper-username": "shopper123"
        }
    200 on success:
        {
          "lists" : [
            {
              "list-name": "Weekly Groceries",
              "list-id": "abc123",
              "items": [
                {
                  "name": "Apples",
                  "quantity": 5
                },
                {
                  "name": "Bananas",
                  "quantity": 7
                }
              ]
            },
            {
              "list-name": "Party Supplies",
              "list-id": "def456",
              "items": [
                {
                  "name": "Chips",
                  "quantity": 10
                },
                {
                  "name": "Soda",
                  "quantity": 6
                }
              ]
            }
          ]
          "message": "Shopping lists retrieved successfully",
          "code": 200
        }
    400 on failure: { 
      "error": "User does not exist"
    }
    400 on failure: {
      "error": "Not authenticated"
    }
----------------------------------------------------------------- Nikita
/remove-shopping-list
    POST:
        {
          "shopper-username": "shopper123"
          "list-id": "abc123"
        }
    200 on success:
        {
          "lists" : [
            {
              "list-name": "Party Supplies",
              "list-id": "def456",
              "items": [
                {
                  "name": "Chips",
                  "quantity": 10
                },
                {
                  "name": "Soda",
                  "quantity": 6
                }
              ]
            }
          ]
          "message": "Shopping list removed successfully",
          "code": 200
        }
    400 on failure: { 
      "error": "User does not exist"
    }
    400 on failure: {
      "error": "Shopping list does not exist"
    }
    400 on failure: {
      "error": "Not authenticated or not authorized to delete this list"
    }
----------------------------------------------------------------- Nikita
/create-shopping-list
    POST:
        {
          "list-name": "Weekly Groceries",
          "shopper-username": "shopper123"
        }
    200 on success:
        {
          "list-name": "Weekly Groceries",
          "list-id": "abc123",
          "message": "Shopping list created successfully",
          "code": 200
        }
    400 on failure: { 
      "error": "User does not exist"
    }
    400 on failure: {
      "error": "Shopping list with this name already exists"
    }
    400 on failure: {
      "error": "Not authenticated or not authorized to create a list for this user"
    }
----------------------------------------------------------------- Nikita
/add-to-shopping-list
    POST:
        {
          "list-id": "abc123",
          "shopper-username": "shopper123",
          "item": {
            "name": "Apples",
            "quantity": 5
          }
        }
    200 on success:
        {
          "list-name": "Weekly Groceries",
          "list-id": "abc123",
          "item": {
            "name": "Apples",
            "quantity": 5
          },
          list-items: [
            {
              "name": "Apples",
              "quantity": 5
            },
            {
              "name": "Bananas",
              "quantity": 7
            }
          ],
          "message": "Item added successfully to the shopping list",
          "code": 200
        }
    400 on failure: { 
      "error": "User does not exist"
    }
    400 on failure: {
      "error": "Shopping list does not exist"
    }
    400 on failure: {
      "error": "Not authenticated or not authorized to modify this list"
    }
    400 on failure: {
      "error": "Item already exists in the shopping list"
    }
    400 on failure: {
      "error": "Invalid item data"
    }
----------------------------------------------------------------- Nikita
/remove-from-shopping-list
    POST:
        {
          "list-id": "abc123",
          "shopper-username": "shopper123",
          "item-name": "Apples"
        }
    200 on success:
        {
          "list-name": "Weekly Groceries",
          "list-id": "abc123",
          list-items: [
            {
              "name": "Bananas",
              "quantity": 7
            }
          ],
          "message": "Item removed successfully from the shopping list",
          "code": 200
        }
	400 on failure: {
    "error": "User does not exist" 
  }
  400 on failure: {
    "error": "Shopping list does not exist" 
  }
  400 on failure: {
    "error": "Not authenticated or not authorized to modify this list" 
  }
  400 on failure: {
    "error": "Item does not exist in the shopping list" 
  }
----------------------------------------------------------------- Harrison
/list-store-chains
    GET: {}
    200 on success:
        {
          "chains": [
            {
              "name": "BJ's",
              "url": "https://www.bjs.com",
              "chain-id": "asd394",
              "stores": [
                { "address": "120 Goat St, Worcester, MA", "store-id": "qwe123" }
              ]
            },
            {
              "name": "Walmart",
              "url": "https://www.walmart.com",
              "chain-id": "rgr342",
              "stores": [
                { "address": "122 Goat St, Worcester, MA", "store-id": "wer231" },
                { "address": "124 Goat St, Worcester, MA", "store-id": "tyu567" }
              ]
            }
          ]
        }
    400 on failure: { 
      "error": "Database error while retrieving store chains"
    }
    400 on failure: { 
      "error": "User not authenticated or not authorized to view store chains"
    }
-----------------------------------------------------------------
/report-options-for-shopping-list    -->    Attempts to find shopping list items in existing receipts
    POST:
        {
          
        }
    200 on success:
        {

        }
    400 on failure: { }
-----------------------------------------------------------------
/search-recent-purchases      -->    Uses "keyword" to return receipts with "keyword" items
    POST:
        {
            "username" : "shopper-username",
            "search-keyword" : "Chips"
        }
    200 on success:
        {
            "receipt" : {
                "date" : "2025-10-31",
                "store": {
                    "address" : "200 East Rd. Chicago",
                    "store-id": "rfw234",
                },
                "chain": {
                    "name": "Walmart",
                    "chain-id": "rgr342"
                },
                "receipt-id" : "receipt-uuid",
                "items" : [
                    {
                        "item-name" : "Classic Lays Chips",
                        "item-category" : "Chips",
                        "item-price" : "3",
                        "item-quantity" : "2"
                    },
                    {
                        "item-name" : "Slim Milk Bottle",
                        "item-category" : "Milk",
                        "item-price" : "12",
                           "item-quantity" : "1"
                    }
                ]
            }
        }
    400 on failure: {
      "error" : "Item does not exist in recent purchases" 
    }
    400 on failure: { 
      "error" : "User does not exist" 
    }
    400 on failure: { 
      "error" : "User not authenticated or not authorized to view recent purchases" 
    }
    400 on failure: { 
      "error" : "Database error while retrieving recent purchases" 
    }
----------------------------------------------------------------- Bryce
/login-administrator
    POST:
        {
            "username" : "admin-username",
            "password" : "admin-password"
        }
    200 on success:
        { 
            "message" : "Logged in successfully as Administrator"
        }
    400: { "error" : "Invalid username or password" }
----------------------------------------------------------------- Bryce
/show-admin-dashboard
    POST:
        {
            "username" : "admin-username"
        }
    200 on success:
        {
            "username" : "admin-username",
            "summary" : {
                "store-chain-count" : 3,
                "store-count"       : 10,
                "receipt-count"     : 125,
                "active-shoppers"   : 45
            },
            "store-chains" : [
                {
                    "name": "BJ's",
                    "url": "https://www.bjs.com",
                    "stores": [
                        { "address" : "10 Maple St. Worcester" }
                    ]
                },
                {
                    "name": "Walmart",
                    "url": "https://www.walmart.com",
                    "stores": [
                        { "address" : "123 Main St. Boston" },
                        { "address" : "5 Park Ave. Worcester" }
                    ]
                },
                {
                    "name": "Trader Joe's",
                    "url": "https://www.traderjoes.com",
                    "stores": []
                }
            ],
            "recent-activity" : [
                {
                    "timestamp" : "2025-11-17T10:15:00Z",
                    "event"     : "New receipt submitted for Walmart"
                },
                {
                    "timestamp" : "2025-11-17T09:42:00Z",
                    "event"     : "Store added to BJ's"
                }
            ]
        }
    400: { "error" : "Missing administrator username" }
    400: { "error" : "Administrator does not exist" }
-----------------------------------------------------------------  Bryce
/remove-store
    POST:
        {
            "username"   : "admin-username",
            "store-id"   : "tyu567",
        }
    200 on success:
        {
            "chain-name" : "Walmart",
            "chain-id"   : "rgr342",
            "removed-store" : {
                "address" : "210 C St. Milford",
                "store-id" : "tyu567"
            },
            "stores" : [
                { "address" : "5 Park Ave. Worcester" }
            ],
            "message" : "Store removed successfully from chain Walmart"
        }
    400: { "error" : "Missing username, chain-name, or store-address" }
    400: { "error" : "Administrator does not exist" }
    400: { "error" : "Store Chain does not exist" }
    400: { "error" : "Store does not exist in the specified Store Chain" }
    400: { "error" : "Store cannot be removed because it is protected" }
-----------------------------------------------------------------  Bryce
/remove-store-chain
    POST:
        {
            "username"   : "admin-username",
            "chain-id"   : "asd394",
        }
    200 on success:
        {
            "removed-chain" : "BJ's",
            "chain-id"   : "asd394",
            "store-chains" : [
                {
                    "name": "Walmart",
                    "chain-id": "rgr342",
                    "url": "https://www.walmart.com",
                    "stores": [
                        { "address" : "123 Main St. Boston", "store-id": "wer231" },
                        { "address" : "5 Park Ave. Worcester", "store-id": "tyu567" }
                    ]
                },
                {
                    "name": "Trader Joe's",
                    "chain-id": "tyu890",
                    "url": "https://www.traderjoes.com",
                    "stores": []
                }
            ],
            "message" : "Store Chain removed successfully"
        }
    400: { "error" : "Missing username or chain-name" }
    400: { "error" : "Administrator does not exist" }
    400: { "error" : "Store Chain does not exist" }
    400: { "error" : "Removal must be confirmed" }
    400: { "error" : "Store Chain cannot be removed because it is protected or required" }
